(()=>{"use strict";var e,t={61:(e,t,n)=>{n.r(t)},957:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initAudioplayer=void 0;const o=r(n(557)),i=document.querySelector("audio"),a=document.querySelector("#play-pause-btn"),c=document.querySelector(".play-next"),s=document.querySelector(".play-prev"),l=document.querySelector(".play-list"),u=document.querySelector(".player-controls .title"),d=document.querySelector(".player-progress-current"),m=document.querySelector(".player-progress-total"),f=document.querySelector(".player-progress"),h=document.querySelector(".player-volume"),g=document.querySelector(".player-mute");t.initAudioplayer=function(){if(!(i&&a&&c&&s&&l&&u&&d&&m&&g&&h&&f))return;let e=!1,t=0;function n(){if(i&&l&&a&&u){e=!0,y();for(let e of l.children)e.classList.remove("active");l.children[t].classList.add("active"),a.classList.add("pause"),a.classList.remove("play"),i.currentTime=0,i.play()}}function r(){i&&a&&l&&(e?(e=!1,a.classList.remove("pause"),a.classList.add("play"),l.children[t].classList.remove("active"),i.pause()):(e=!0,a.classList.add("pause"),a.classList.remove("play"),l.children[t].classList.add("active"),i.play()))}function v(){const e=o.default.length;t=(t+1)%e,n()}function p(){const e=o.default.length;t=0===t?e-1:t=(t-1)%e,n()}const y=()=>{const e=o.default[t];i.src=e.src,u.textContent=e.title,f.value="0",f.dispatchEvent(new Event("change")),d.textContent="0:00",m.textContent=e.duration},k=e=>{const t=function(e,t){const n=100*Math.round(e)/Math.round(t);return isFinite(n)?n:0}(i.currentTime||0,i.duration||0);f&&(d.textContent=function(e){const t=Math.floor(e/60),n=Math.floor(e-60*t);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}(i.currentTime),f.value=t.toString(),f.dispatchEvent(new Event("change")))},S=()=>{i.muted?(h.value=String(100*i.volume),i.muted=!1,g.classList.remove("active")):(h.value="0",i.muted=!0,g.classList.add("active"))},w=()=>{const e=Math.round(Number.parseFloat(f.value));i.currentTime=function(e,t){const n=t*e/100;return isFinite(n)?n:t}(e,i.duration)},b=()=>{const e=Number.parseFloat(h.value);i.volume=e/100,(i.volume<=.05&&!i.muted||i.volume>.05&&i.muted)&&S()};y(),i.addEventListener("ended",v),i.addEventListener("timeupdate",k),f.addEventListener("input",w),h.addEventListener("input",b),g.addEventListener("click",S),a.addEventListener("click",r),c.addEventListener("click",v),s.addEventListener("click",p);for(let e=0;e<o.default.length;e++){const i=document.createElement("li");i.classList.add("play-item"),i.textContent=o.default[e].title,i.addEventListener("click",(()=>{t===e?r():(t=e,n())})),l.append(i)}return{finalize:()=>{a.removeEventListener("click",r),c.removeEventListener("click",v),s.removeEventListener("click",p),i.removeEventListener("ended",v),i.removeEventListener("timeupdate",k),f.removeEventListener("input",w),h.removeEventListener("input",b),g.removeEventListener("click",S),l.innerHTML=""}}}},233:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initCustomWidget=void 0;const r=n(894),o=document.querySelector(".todos"),i=document.querySelector(".todo-add-btn"),a=document.querySelector(".todo-input");t.initCustomWidget=function(){if(!o||!a||!i)return;const e=()=>{const e=[...o.children].map((e=>{const t=e.querySelector("input[type='checkbox']"),n=e.querySelector("label");return{title:n?String(n.textContent):"null",done:!!t&&t.checked}}));localStorage.setItem("todos",JSON.stringify(e))},t=t=>{const n=o.childElementCount,r=document.createElement("input");r.type="checkbox",r.classList.add("todo-ch"),r.id=`todo-ch${n}`,r.checked=t.done,r.onchange=()=>{e()};const i=document.createElement("label");i.setAttribute("for",`todo-ch${n}`),i.classList.add("todo-title"),i.textContent=t.title;const a=document.createElement("button");a.classList.add("todo-remove-btn"),a.textContent="x",a.onclick=()=>{var t;null===(t=a.parentElement)||void 0===t||t.remove(),e()};const c=document.createElement("li");c.classList.add("todo"),c.append(r),c.append(i),c.append(a),o.append(c)},n=()=>{const n=a.value.trim();a.value="",n&&(t({title:n,done:!1}),e())};return(()=>{const e=localStorage.getItem("todos");e&&JSON.parse(e).forEach((e=>{t(e)}))})(),a.setAttribute("placeholder",(0,r.t)("custom.placeholder")),i.addEventListener("click",n),{finalize:()=>{i.removeEventListener("click",n)}}}},980:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initDateAndTime=void 0;const r=n(894),o=document.querySelector(".time"),i=document.querySelector(".date");t.initDateAndTime=function(){let e,t,n;function a(e){const t=e.getHours();return["night","morning","afternoon","evening"][Math.floor(t/6)%4]}return function c(){const s=new Date;!function(e){if(!o)return;const t=e.toLocaleTimeString();o.textContent=t}(s),function(e){if(!i)return;const t=e.toLocaleDateString((0,r.t)("date_and_time.locale"),{weekday:"long",month:"long",day:"numeric"});i.textContent=t}(s);const l=a(s);e&&l!==n&&e(l),n=l,t=setTimeout(c,1e3)}(),{setOnTimeOfDayChanged:t=>e=t,getCurrentTimeOfDay:()=>a(new Date),finalize:()=>{clearTimeout(t)}}}},870:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},r=this&&this.__await||function(e){return this instanceof r?(this.v=e,this):new r(e)},o=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(e,t||[]),a=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(e){i[e]&&(o[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof r?Promise.resolve(n.value.v).then(l,u):d(a[0][2],n)}catch(e){d(a[0][3],e)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.getNextUrl=void 0;const i="b58301c7eeb6d2ab498252d8612244fd",a=`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${i}&media=photos`,c=`https://www.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key=${i}`;function s(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(e),n=yield t.text();return(new window.DOMParser).parseFromString(n,"text/xml")}))}function l(e,t){return n(this,void 0,void 0,(function*(){const n=yield s(((e,t)=>`${a}&tags=${e}&per_page=${String(t)}`)(e,t));return[...n.querySelectorAll("photo")].map((e=>({id:e.getAttribute("id")||"",title:e.getAttribute("title")||""})))}))}function u(e){return n(this,void 0,void 0,(function*(){var t;const n=[...(yield s((t=e,`${c}&photo_id=${t}`))).querySelectorAll("size")].map((e=>{const t=parseFloat(e.getAttribute("width")||""),n=parseFloat(e.getAttribute("height")||"");return{width:isNaN(t)?0:t,height:isNaN(n)?0:n,source:e.getAttribute("source")||""}}));n.sort(((e,t)=>t.width-e.width));const r=n.filter((e=>{const t=1080<=e.width&&e.width<=2600;return e.width,e.height,t}));return 0===r.length?null:r[0].source}))}t.getNextUrl=function(e,t){return o(this,arguments,(function*(){const n=yield r(l(e,10*t));let o=0;for(const e of n){if(o>=t)break;const n=yield r(u(e.id));n&&(o++,yield yield r(n))}return yield r(null)}))}},685:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initGreeting=void 0;const r=n(894),o=document.querySelector(".greeting"),i=document.querySelector(".name");t.initGreeting=function(e){if(!i)return;function t(e){if(!o)return;const t=(0,r.t)(`greeting.${e}`);o.textContent=t}t(e),i.placeholder=`[ ${(0,r.t)("greeting.name_placeholder")} ]`;const n=e=>{localStorage.setItem("username",e.target.value)};i.addEventListener("input",n);const a=localStorage.getItem("username");return i.value=a||"",{setGreeting:t,finalize:()=>{i.removeEventListener("input",n)}}}},239:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{name:"github",link:"",tagsAllowed:!1},{name:"api1",link:"",tagsAllowed:!0},{name:"api2",link:"",tagsAllowed:!0}]},294:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),n(61);const c=n(957),s=n(233),l=n(980),u=n(685),d=n(356),m=n(790),f=n(397),h=n(585),g=i(n(894)),v=n(563),p=[];function y(){const e=(0,l.initDateAndTime)(),t=e.getCurrentTimeOfDay(),n=(0,h.initSlider)(t,0),r=(0,u.initGreeting)(t),o=(0,v.initWeather)(),i=(0,d.initQuotes)(),a=(0,c.initAudioplayer)(),m=(0,f.initSettings)(),g=(0,s.initCustomWidget)();m&&m.setOnSettingsChanged((e=>{"slider"===e&&n&&n.onApiChanged()})),e.setOnTimeOfDayChanged((e=>{r&&r.setGreeting(e),n&&n.changeTimeOfDay(e)})),e&&p.push(e.finalize),r&&p.push(r.finalize),n&&p.push(n.finalize),o&&p.push(o.finalize),i&&p.push(i.finalize),a&&p.push(a.finalize),m&&p.push(m.finalize),g&&p.push(g.finalize)}document.addEventListener("DOMContentLoaded",(()=>a(void 0,void 0,void 0,(function*(){yield g.i18nInitPromise,g.onLanguageChanged((()=>{!function(){for(let e of p)e();p.length=0,y()}()})),y(),(0,m.printSelfcheck)();const e=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",e),e()}))))},557:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{title:"Aqua Caelestis",src:"https://raw.githubusercontent.com/livwvil/stage1-tasks/assets/sounds/Aqua Caelestis.mp3",duration:"00:40"},{title:"River Flows In You",src:"https://raw.githubusercontent.com/livwvil/stage1-tasks/assets/sounds/River Flows In You.mp3",duration:"01:37"},{title:"Ennio Morricone",src:"https://raw.githubusercontent.com/livwvil/stage1-tasks/assets/sounds/Ennio Morricone.mp3",duration:"01:37"}]},356:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initQuotes=void 0;const o=n(894),i=document.querySelector(".quote"),a=document.querySelector(".author"),c=document.querySelector(".change-quote");t.initQuotes=function(){if(!i||!a||!c)return;let e=parseFloat(localStorage.getItem("quoteNumber")||"0");function t(){return r(this,void 0,void 0,(function*(){if(!i||!a)return;const t=`public/quotes/quotes.${(0,o.t)("quotes.lang")}.json`;try{const n=yield fetch(t),r=yield n.json(),o=null==r?void 0:r.length;if(!(r&&o>0))throw new Error;{let t;do{t=Math.round(Math.random()*(o-1))}while(t===e);e=t,localStorage.setItem("quoteNumber",String(e))}i.innerHTML=r[e].text,a.innerHTML=r[e].author}catch(e){i.innerHTML=(0,o.t)("quotes.error"),a.innerHTML=""}}))}return c.addEventListener("click",t),t(),{finalize:()=>{c.removeEventListener("click",t)}}}},790:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.printSelfcheck=void 0;let n=[{name:"Часы и календарь: время выводится в 24-часовом формате, например: 21:01:00 +5",mark:5},{name:"Часы и календарь: время обновляется каждую секунду - часы идут. Когда меняется одна из цифр, остальные при этом не меняют своё положение на странице (время не дёргается) +5",mark:5},{name:"Часы и календарь: выводится день недели, число, месяц, например: 'Воскресенье, 16 мая' /'Sunday, May 16' / 'Нядзеля, 16 траўня' (Язык и формат вывода даты определяется языком приложения.) +5",mark:5},{name:"Часы и календарь: при изменении дня недели, даты, месяца эти данные меняются в приложении (в ходе кросс-чека этот пункт не проверяется)",mark:0},{name:"Приветствие: текст приветствия меняется в зависимости от времени суток (утро, день, вечер, ночь) +5\nс 6:00 до 11:59 - Good morning / Доброе утро / Добрай раніцы\nс 12:00 до 17:59 - Good afternoon / Добрый день / Добры дзень\nс 18:00 до 23:59 - Good evening / Добрый вечер / Добры вечар\nс 00:00 до 5:59 - Good night / Доброй/Спокойной ночи / Дабранач",mark:5},{name:"Приветствие: при изменении времени суток, если в это время приложение открыто, меняется текст приветствия (в ходе кросс-чека этот пункт не проверяется)",mark:0},{name:"Приветствие: пользователь может ввести своё имя. При перезагрузке страницы приложения имя пользователя сохраняется, данные о нём хранятся в local storage +5",mark:5},{name:"Смена фонового изображения: cкачать картинки на компьютер и использовать локальные файлы нельзя. +0",mark:0},{name:"Смена фонового изображения: ссылка на фоновое изображение формируется с учётом времени суток и случайного номера изображения (от 01 до 20) +5\nПример ссылки на фоновое изображение: https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/evening/18.jpg, здесь\nevening - время суток, другие значения afternoon, morning, night\n18 - рандомный (случайный) номер изображения, от 01 до 20.",mark:5},{name:"Смена фонового изображения: изображения можно перелистывать кликами по стрелкам, расположенным по бокам экрана. +0",mark:0},{name:"Смена фонового изображения: изображения перелистываются последовательно - после 18 изображения идёт 19 (клик по правой стрелке), перед 18 изображением идёт 17 (клик по левой стрелке) +5",mark:5},{name:"Смена фонового изображения: изображения перелистываются по кругу: после двадцатого изображения идёт первое (клик по правой стрелке), перед 1 изображением идёт 20 (клик по левой стрелке) +5",mark:5},{name:"Смена фонового изображения: при смене слайдов важно обеспечить плавную смену фоновых изображений. Не должно быть состояний, когда пользователь видит частично загрузившееся изображение или страницу без фонового изображения. Плавную смену фоновых изображений не проверяем: 1) при загрузке и перезагрузке страницы 2) при открытой консоли браузера 3) при слишком частых кликах по стрелкам для смены изображения +5",mark:0},{name:"Виджет погоды: город по умолчанию - Минск, пока пользователь не ввёл другой город",mark:0},{name:"Виджет погоды: при перезагрузке страницы приложения указанный пользователем город сохраняется, данные о нём хранятся в local storage +5",mark:5},{name:"Виджет погоды: для указанного пользователем населённого пункта выводятся данные о погоде, если их возвращает API +0",mark:0},{name:"Виджет погоды: данные о погоде включают в себя: иконку погоды, описание погоды, температуру в °C, скорость ветра в м/с, относительную влажность воздуха в %. Числовые параметры погоды округляются до целых чисел +5",mark:5},{name:"Виджет погоды: выводится уведомление об ошибке при вводе некорректных значений, для которых API не возвращает погоду (пустая строка или бессмысленный набор символов) +5",mark:5},{name:"Виджет цитата дня: при загрузке страницы приложения отображается рандомная цитата и её автор +5\nВ качестве источника цитаты можно использовать как API, так и созданный вами или найденный в интернете JSON-файл с цитатами и их авторами. API с цитатами не отличаются надёжностью и долговечностью, используемый в качестве источника цитат собственный JSON-файл гарантирует работоспособность вашего приложения. Запросы к JSON также осуществляются асинхронно, таким образом необходимые знания о работе с асинхронными запросами вы получите",mark:5},{name:"Виджет цитата дня: при перезагрузке страницы цитата обновляется (заменяется на другую). Есть кнопка, при клике по которой цитата обновляется (заменяется на другую) +5",mark:5},{name:"Аудиоплеер: при клике по кнопке Play/Pause проигрывается первый трек из блока play-list, иконка кнопки меняется на Pause +3",mark:3},{name:"Аудиоплеер: при клике по кнопке Play/Pause во время проигрывания трека, останавливается проигрывание трека, иконка кнопки меняется на Play +3",mark:3},{name:"Аудиоплеер: треки можно пролистывать кнопками Play-next и Play-prev",mark:0},{name:"Аудиоплеер: треки пролистываются по кругу - после последнего идёт первый (клик по кнопке Play-next), перед первым - последний (клик по кнопке Play-prev) +3",mark:3},{name:"Аудиоплеер: трек, который в данный момент проигрывается, в блоке Play-list выделяется стилем +3",mark:3},{name:"Аудиоплеер: после окончания проигрывания первого трека, автоматически запускается проигрывание следующего. Треки проигрываются по кругу: после последнего снова проигрывается первый. +3\n    Для удобства проверки треки возьмите небольшой продолжительности. Обрезать треки можно здесь: https://mp3cut.net/ru/",mark:3},{name:"Аудиоплеер: плейлист генерируется средствами JavaScript (в ходе кросс-чека этот пункт не проверяется) +0",mark:0},{name:"Продвинутый аудиоплеер: примерные внешний вид и функциональность плеера https://howlerplayer.github.io/ +0",mark:0},{name:"Продвинутый аудиоплеер: добавлен прогресс-бар в котором отображается прогресс проигрывания +3",mark:3},{name:"Продвинутый аудиоплеер: при перемещении ползунка прогресс-бара меняется текущее время воспроизведения трека +3",mark:3},{name:"Продвинутый аудиоплеер: над прогресс-баром отображается название трека +3",mark:3},{name:"Продвинутый аудиоплеер: отображается текущее и общее время воспроизведения трека +3",mark:3},{name:"Продвинутый аудиоплеер: есть кнопка звука при клике по которой можно включить/отключить звук +2",mark:2},{name:"Продвинутый аудиоплеер: добавлен регулятор громкости, при перемещении ползунка регулятора громкости меняется громкость проигрывания звука +3",mark:3},{name:"Продвинутый аудиоплеер: можно запустить и остановить проигрывания трека кликом по кнопке Play/Pause рядом с ним в плейлисте +3",mark:3},{name:"Перевод приложения на два языка: переводится язык и меняется формат отображения даты +3",mark:3},{name:"Перевод приложения на два языка: переводится приветствие и placeholder +3",mark:3},{name:"Перевод приложения на два языка: переводится прогноз погоды в т.ч описание погоды (OpenWeatherMap API предоставляет такую возможность) и город по умолчанию +3",mark:3},{name:"Перевод приложения на два языка: переводится цитата дня (используйте подходящий для этой цели API, возвращающий цитаты на нужном языке или создайте с этой целью JSON-файл с цитатами на двух языках) +3",mark:3},{name:"Перевод приложения на два языка: переводятся настройки приложения. При переключении языка приложения в настройках, язык настроек тоже меняется +3",mark:3},{name:"Перевод приложения на два языка: не переводятся данные, которые вводит пользователь: имя, город, тег для получения фонового изображения от API +0",mark:0},{name:"Получение фонового изображения от API: в качестве источника изображений может использоваться Unsplash API +5",mark:0},{name:"Получение фонового изображения от API: в качестве источника изображений может использоваться Flickr API +5",mark:5},{name:"Настройки приложения: в настройках приложения можно указать язык приложения (en/ru или en/be) +3",mark:3},{name:"Настройки приложения: в настройках приложения можно указать источник получения фото для фонового изображения: коллекция изображений GitHub, Unsplash API, Flickr API +3",mark:3},{name:"Настройки приложения: если источником получения фото указан API, в настройках приложения можно указать тег/теги, для которых API будет присылает фото (Например, nature - фото про природу) +3",mark:3},{name:"Настройки приложения: в настройках приложения можно скрыть/отобразить любой из блоков, которые находятся на странице: время, дата, приветствие, цитата дня, прогноз погоды, аудиоплеер, список дел/список ссылок/ваш собственный дополнительный функционал +3",mark:3},{name:"Настройки приложения: скрытие и отображение блоков происходит плавно, не влияя на другие элементы, которые находятся на странице, или плавно смещая их +3",mark:3},{name:"Настройки приложения: настройки приложения сохраняются при перезагрузке страницы +5",mark:5},{name:"Дополнительный функционал на выбор: ToDo List - список дел (как в оригинальном приложении) +10",mark:10},{name:"Дополнительный функционал на выбор: список ссылок (как в оригинальном приложении) +10",mark:0},{name:"Дополнительный функционал на выбор: свой собственный дополнительный функционал, по сложности аналогичный предложенным +10",mark:0},{name:"На основе созданного проекта вы можете создать расширение для Google Chrome без публикации его в интернет-магазине (в ходе кросс-чека этот пункт не проверяется и не оценивается) +0",mark:0}];t.printSelfcheck=function(e=!0){let t=n.reduce(((t,n)=>(e&&0===n.mark&&console.log(`${n.mark}\t${n.name}`),Object.assign(Object.assign({},t),{mark:t.mark+n.mark}))),{name:"Total result",mark:0});console.table(`${t.name}: ${t.mark}`)}},397:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initSettings=void 0;const o=r(n(239)),i=n(894),a=document.querySelector(".settings-icon"),c=document.querySelector(".settings-modal-container"),s=document.querySelector(".s-sect.common"),l=document.querySelector(".s-sect.vis"),u=null==c?void 0:c.querySelectorAll("input[type='checkbox']"),d=null==c?void 0:c.querySelectorAll("label"),m=document.querySelector("#s_lang"),f=document.querySelector("#s_imgsrc"),h=document.querySelector("#s_imgtags"),g=document.querySelector(".cancel-btn"),v=document.querySelector(".confirm-btn");t.initSettings=function(){if(!(a&&c&&g&&v&&d&&l&&s&&h&&f))return;d.forEach((e=>{e.textContent=(0,i.t)(`settings.${e.htmlFor}`)})),s.textContent=(0,i.t)("settings.common_sect"),l.textContent=(0,i.t)("settings.visibility_sect"),g.textContent=(0,i.t)("settings.cancel_btn"),v.textContent=(0,i.t)("settings.confirm_btn"),h.placeholder=(0,i.t)("settings.imgtags_placeholder");let e=e=>{};function t(e){if(!h)return;const t=e.target.selectedOptions[0];if(t){const e=o.default.find((e=>e.name===t.value));e&&(e.tagsAllowed?h.classList.remove("hidden"):(h.classList.add("hidden"),h.value=""))}}function n(){if(!(u&&m&&f&&h))return;for(const e of u){const t=localStorage.getItem(e.id),n=null===t||"true"===t;e.checked=n}m.innerHTML="";const e=(0,i.getAvaliableLanguages)(),t=localStorage.getItem("app-lang")?localStorage.getItem("app-lang"):e[0];for(const n of e){const e=document.createElement("option");e.value=n,e.selected=n===t,e.textContent=(0,i.t)(`settings.lang.${n}`),m.append(e)}f.innerHTML="";for(const e of o.default){const t=document.createElement("option");t.value=e.name,t.selected=e.name===localStorage.getItem("img-src"),t.textContent=(0,i.t)(`settings.imgsrc.${e.name}`),f.append(t)}f.dispatchEvent(new Event("change")),h.value=localStorage.getItem("img-src-tags")||""}function r(){if(!m||!u||!g)return;const t=localStorage.getItem("img-src"),n=localStorage.getItem("img-src-tags");!function(){if(u&&m&&f&&h){for(const e of u)localStorage.setItem(e.id,String(e.checked));localStorage.setItem("app-lang",m.selectedOptions[0].value),localStorage.setItem("img-src",f.selectedOptions[0].value),localStorage.setItem("img-src-tags",h.value)}}();const r=localStorage.getItem("img-src"),o=localStorage.getItem("img-src-tags");t===r&&n===o||e("slider"),(0,i.changeLanguage)(m.selectedOptions[0].value);for(const e of u){const t=e.id.split("_")[1],n=document.querySelector(`#${t}`);n&&(e.checked?n.classList.remove("hidden"):n.classList.add("hidden"))}g.click()}function p(e){c&&[c,a,g].includes(e.target)&&(e.stopPropagation(),c.classList.toggle("active"),c.classList.contains("active")&&n())}return a.addEventListener("click",p),c.addEventListener("click",p),g.addEventListener("click",p),v.addEventListener("click",r),f.addEventListener("change",t),n(),r(),g.click(),{setOnSettingsChanged:t=>{e=t},finalize:()=>{a.removeEventListener("click",p),c.removeEventListener("click",p),g.removeEventListener("click",p),v.removeEventListener("click",r),f.removeEventListener("change",t)}}}},585:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},c=this&&this.__await||function(e){return this instanceof c?(this.v=e,this):new c(e)},s=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof c?Promise.resolve(n.value.v).then(l,u):d(i[0][2],n)}catch(e){d(i[0][3],e)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.initSlider=void 0;const l=i(n(870)),u=document.querySelector(".slide-next"),d=document.querySelector(".slide-prev"),m=document.querySelector(".bg-container"),f=20;function h(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}}t.initSlider=function(e,t){if(!u||!d)return;let n,r=e,o=t,i=!0;const g=[],v=()=>a(this,void 0,void 0,(function*(){const e=yield n.next();if(!e.done&&e.value){const t=e.value;return g.push(t),!0}return!1})),p=()=>{o=0,g.length=0;const e=localStorage.getItem("img-src")||"github",t=localStorage.getItem("img-src-tags")||r;if("api2"===e)n=l.getNextUrl(t,f);else{const e=function(){return s(this,arguments,(function*(){const e=[];for(let t=0;t<f;t++)e.push(t);h(e);for(let t=0;t<f;t++){const n=(e[t]+1).toString().padStart(2,"0");yield yield c(`https://raw.githubusercontent.com/livwvil/stage1-tasks/assets/images/${r}/${n}.jpg`)}return yield c(null)}))};n=e()}};function y(e){return g[e]}function k(e,t){if(!m||!i||m.children.length>2)return;i=!1;const n=new Image;n.src=e,m.appendChild(n),n.onload=e=>{n.classList.add("visible"),t&&t()},n.ontransitionend=()=>{var e;i=!0,m.children.length>1&&(null===(e=m.firstChild)||void 0===e||e.remove())}}const S=()=>a(this,void 0,void 0,(function*(){o<f&&o===g.length-1&&(yield v());const e=(o+1)%g.length;k(y(e),(()=>{o=e}))})),w=()=>{const e=0===o?g.length-1:(o-1)%g.length;k(y(e),(()=>{o=e}))},b=()=>{p(),v().then((e=>{e&&(k(y(o)),u.addEventListener("click",S),d.addEventListener("click",w))}))};return b(),{changeTimeOfDay:function(e){r=e,b()},onApiChanged:()=>{b()},finalize:()=>{u.removeEventListener("click",S),d.removeEventListener("click",w)}}}},894:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getAvaliableLanguages=t.onLanguageChanged=t.t=t.changeLanguage=t.i18nInitPromise=void 0;const o=r(n(226)),i=r(n(122)),a=r(n(71)),c=n(981),s=o.default.use(i.default).use(a.default).use(c.i18nextPlugin).init({backend:{loadPath:"public/locales/{{lng}}/translation.json"},fallbackLng:"en",interpolation:{escapeValue:!1}});t.i18nInitPromise=s,t.changeLanguage=function(e){o.default.language!==e&&o.default.changeLanguage(e)},t.t=function(e){return o.default.t(e)},t.onLanguageChanged=function(e){o.default.on("languageChanged",e)},t.getAvaliableLanguages=function(){const e=o.default.getResourceBundle("en","translation");return e&&e.settings&&e.settings.lang?Object.keys(e.settings.lang):[]}},563:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initWeather=void 0;const o=n(894),i=document.querySelector(".city"),a=document.querySelector(".weather-icon"),c=document.querySelector(".temperature"),s=document.querySelector(".weather-description");t.initWeather=function(){if(!i)return;function e(){var e;return r(this,void 0,void 0,(function*(){if(!(c&&s&&a&&i))return;const t=`https://api.openweathermap.org/data/2.5/weather?q=${encodeURI(i.value)}&lang=${(0,o.t)("weather.lang")}&appid=85180df66ab95e81c6d07e4eef472fe8&units=metric`;try{const n=yield fetch(t),r=yield n.json();if(a.className="weather-icon owf",!r||200!==r.cod)throw new Error;a.classList.add(`owf-${null===(e=r.weather[0])||void 0===e?void 0:e.id}`),c.textContent=`${Math.round(r.main.temp)}°C ${r.weather[0].description}`,s.innerHTML=`${(0,o.t)("weather.wind")} ${Math.round(r.wind.speed)} ${(0,o.t)("weather.windSpeedUnit")}<br>${(0,o.t)("weather.humidity")} ${Math.round(r.main.humidity)}%`}catch(e){c.textContent="",s.textContent=(0,o.t)("weather.cityNotFound")}}))}const t=e=>{localStorage.setItem("city",e.target.value)},n=t=>{e()};i.addEventListener("input",t),i.addEventListener("change",n);const l=localStorage.getItem("city");return i.value=l||(0,o.t)("weather.ds"),e(),{finalize:()=>{i.removeEventListener("input",t),i.removeEventListener("change",n)}}}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,o,i]=e[u],c=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(c=!1,i<a&&(a=i));if(c){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,c,s]=n,l=0;if(a.some((t=>0!==e[t]))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(s)var u=s(r)}for(t&&t(n);l<a.length;l++)i=a[l],r.o(e,i)&&e[i]&&e[i][0](),e[a[l]]=0;return r.O(u)},n=self.webpackChunkmomentum=self.webpackChunkmomentum||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[145],(()=>r(294)));o=r.O(o)})();